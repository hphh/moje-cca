<p-contextMenu #kalendarMenu [model]="kalendarMenuItems"></p-contextMenu>

<div style="float: left;">
	<button pButton (click)="readImisDays()" type="text" icon="fa-refresh {{(readingData? 'fa-spin': '')}}" 
				[disabled]="readingData" style="width:40px;"></button>
</div>
<div style="float: left;">
	Od:
	<p-calendar [(ngModel)]="fromDate" (onSelect)="readImisDays()" dateFormat="dd.mm.yy"></p-calendar>
</div>
<div style="float: left;">
	Do:
	<p-calendar [(ngModel)]="toDate" (onSelect)="readImisDays()" dateFormat="dd.mm.yy"></p-calendar>
</div>
<div style="float: left;">
	<p-checkbox [(ngModel)]="unsolvedDaysOnly" binary="true" label="Jen nevyřešené dny" (onChange)="readImisDays()"></p-checkbox>
</div>

<div style="float: left; clear: left; width: 310px;">
	<p-dataTable [value]="imisDays"  
				selectionMode="single" [(selection)]="selectedDay"
				(onRowSelect)="onDateSelect($event)"
				[contextMenu]="kalendarMenu">
				
		<p-column field="datum" header="Datum" [style]="{'text-align':'center'}">
			<ng-template let-col let-vykaz="rowData" pTemplate="body">
				<span style="white-space: nowrap;">
	           		<i *ngIf="isToday(vykaz['datum'])" class="fa fa-arrow-right"></i>
	           		{{vykaz[col.field] | date: 'dd.MM.yyyy'}}
	           	</span>
	       	</ng-template> 
        </p-column>
		<p-column field="odpracovanoHod" header="Odprac." [style]="{'width':'70px','text-align':'center'}">
			<ng-template let-col let-vykaz="rowData" pTemplate="body">
	           	{{vykaz[col.field] | mnozstviHod}}
	       	</ng-template> 
        </p-column>
		<p-column field="vykazanoHod" header="Vykáz." [style]="{'width':'70px','text-align':'center'}">
			<ng-template let-col let-vykaz="rowData" pTemplate="body">
				<span style="white-space: nowrap;">
	           		{{vykaz[col.field] | mnozstviHod}}
	           		<i *ngIf="vykaz['potvrzeno'] === 'A'" class="fa fa-check"></i>
	           	</span>
	       	</ng-template> 
        </p-column>
		<p-column header="Rozdíl" [style]="{'width':'70px','text-align':'center'}">
			<ng-template let-col let-vykaz="rowData" pTemplate="body">
           		{{vykaz['odpracovanoHod'] - vykaz['vykazanoHod'] | mnozstviHod}}
	       	</ng-template> 
        </p-column>
	</p-dataTable>
</div>

<div style="float: left; width: 1000px;">
	<app-vykaz-prace-table [vykazPraces]="vykazPraces" (onSave)="readImisDays()" ></app-vykaz-prace-table>
</div>


